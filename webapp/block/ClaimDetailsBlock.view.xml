<mvc:View xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core"
	xmlns="sap.m" xmlns:l="sap.ui.layout" controllerName="WarrantyClaim_MockUp.block.ClaimDetailsBlockController">
	<sap.ui.layout.form:Form xmlns:sap.ui.layout.form="sap.ui.layout.form" id="__form0" objectBindings="{WarrantyClaim>/}">
		<sap.ui.layout.form:layout>
	    	<sap.ui.layout.form:ResponsiveGridLayout/>
	    </sap.ui.layout.form:layout>	
		<sap.ui.layout.form:formContainers>
			<sap.ui.layout.form:FormContainer id="__container0" title="Claim Details" >
				<sap.ui.layout.form:formElements>
					<sap.ui.layout.form:FormElement id="__element0" >
						<sap.ui.layout.form:fields>
							<l:Grid defaultSpan="L4 M6 S6">
								<l:content>							
									<l:VerticalLayout width="100%">
										<Label text="Repair Order Number"/>
										<Input id="repairOrderNumber" value="{WarrantyClaim>RepairOrderNumber}" editable="{WarrantyClaim>CanEdit}"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<Label text="Date of Repair"/>
										<DatePicker id="dateOfRepair" change="onChangeDatePicker"
											displayFormat="medium" dateValue="{WarrantyClaim>DateOfRepair}" editable="{WarrantyClaim>CanEdit}"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<Label text="Date of Failure"/>
										<DatePicker id="dateOfFailure" change="onChangeDatePicker"
											displayFormat="medium" dateValue="{WarrantyClaim>DateOfFailure}" editable="{WarrantyClaim>CanEdit}"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<Label text="Failure KM"/>
										<Input id="failureKM" value="{WarrantyClaim>FailureMeasure}" editable="{WarrantyClaim>CanEdit}"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<Label text="Main Causal Part Number (MCPN)"/>
										<Input id="MCPN" value="{WarrantyClaim>/Parts/0/PartNumber}"	
											editable="{WarrantyClaim>CanEdit}"
											showValueHelp="true" valueHelpRequest="addMCPN"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<Label text="MCPN Quantity"/>
										<Input id="MCPNQuantity" type="Number"
										value="{
											path: 'WarrantyClaim>/Parts/0/Quantity',
											type: 'sap.ui.model.type.Float',
											formatOptions: {
													minFractionDigits: 3,
													maxFractionDigits: 3
												}
											}"
										editable="{WarrantyClaim>CanEdit}"/>
									</l:VerticalLayout>									
									<l:VerticalLayout width="100%">
										<l:layoutData>
											<l:GridData span="L12"/>
										</l:layoutData>
										<Label text="MIL ON"/>
										<FlexBox>
											<items>
												<CheckBox id="MIL_ON" class="sapUiSmallMarginEnd" selected="{WarrantyClaim>MilIndicator}" select="onMILSelected" editable="{WarrantyClaim>CanEdit}"/>
												<Input id="DTC1" width="95%" placeholder="{= ${WarrantyClaim>CanEdit} ? 'DTC1' : '' }" value="{WarrantyClaim>DTC1}" visible="{= ${WarrantyClaim>MilIndicator} === true }" editable="{WarrantyClaim>CanEdit}"/>
												<Input id="DTC2" width="95%" placeholder="{= ${WarrantyClaim>CanEdit} ? 'DTC2' : '' }" value="{WarrantyClaim>DTC2}" visible="{= ${WarrantyClaim>MilIndicator} === true }" editable="{WarrantyClaim>CanEdit}"/>
												<Input id="DTC3" placeholder="{= ${WarrantyClaim>CanEdit} ? 'DTC3' : '' }" value="{WarrantyClaim>DTC3}" visible="{= ${WarrantyClaim>MilIndicator} === true }" editable="{WarrantyClaim>CanEdit}"/>
											</items>
										</FlexBox>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%" visible="{= ${WarrantyClaim>ClaimTypeGroup} === 'PARTS' }">
										<Label text="Part Install Date" labelFor="partInstallDate"/>
										<Input id="partInstallDate" value="{WarrantyClaim>PartsInstallDate}" 
											editable="{WarrantyClaim>CanEdit}" required="true"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%" visible="{= ${WarrantyClaim>ClaimTypeGroup} === 'PARTS' }">
										<Label text="Part Install KM" labelFor="partInstallKM"/>
										<Input id="partInstallKM" value="{WarrantyClaim>PartsInstallKM}" 
											editable="{WarrantyClaim>CanEdit}" required="true"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%" visible="{= ${WarrantyClaim>ClaimTypeGroup} === 'PARTS' }">
										<Label text="Original Invoice Number" labelFor="originalInvoiceNo"/>
										<Input id="originalInvoiceNo" value="{WarrantyClaim>OriginalInvoiceNumber}" 
											editable="{WarrantyClaim>CanEdit}" required="true"/>
									</l:VerticalLayout>	
									<l:VerticalLayout width="100%" visible="{= ${WarrantyClaim>ClaimTypeGroup} === 'RECALL' }">
										<l:layoutData>
											<l:GridData span="L6"/>
										</l:layoutData>
										<Label text="Old Serial Number"/>
										<Input id="oldSerialNumber" value="{WarrantyClaim>OldSerialNumber}" editable="{WarrantyClaim>CanEdit}"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%" visible="{= ${WarrantyClaim>ClaimTypeGroup} === 'RECALL' }">
										<l:layoutData>
											<l:GridData span="L6"/>
										</l:layoutData>
										<Label text="New Serial Number"/>
										<Input id="newSerialNumber" value="{WarrantyClaim>NewSerialNumber}" editable="{WarrantyClaim>CanEdit}"/>
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<l:layoutData>
											<l:GridData span="L6"/>
										</l:layoutData>
										<Label text="Technician"/>	
										<ComboBox width="100%"
											showSecondaryValues= "true"
											editable="{WarrantyClaim>CanEdit}"
											items="{
												path: '/EmployeeSet',
												sorter: { path: 'LastName' }
											}"
											selectedKey="{WarrantyClaim>Technician}">
											<core:ListItem key="{EmployeeNumber}" text="{FirstName} {LastName}" additionalText = "({EmployeeNumber})"/>
										</ComboBox>	
									</l:VerticalLayout>
									<l:VerticalLayout width="100%">
										<l:layoutData>
											<l:GridData span="L6"/>
										</l:layoutData>
										<Label text="Service Advisor"/>
										<ComboBox width="100%"
											showSecondaryValues= "true"
											editable="{WarrantyClaim>CanEdit}"
											items="{
												path: '/EmployeeSet',
												sorter: { path: 'LastName' }
											}"
											selectedKey="{WarrantyClaim>ServiceAdvisor}">
											<core:ListItem key="{EmployeeNumber}" text="{FirstName} {LastName}" additionalText = "({EmployeeNumber})"/>
										</ComboBox>	
									</l:VerticalLayout>	
								</l:content>	
							</l:Grid>
						</sap.ui.layout.form:fields>
					</sap.ui.layout.form:FormElement>
				</sap.ui.layout.form:formElements>
			</sap.ui.layout.form:FormContainer>
		</sap.ui.layout.form:formContainers>
	</sap.ui.layout.form:Form>
</mvc:View>