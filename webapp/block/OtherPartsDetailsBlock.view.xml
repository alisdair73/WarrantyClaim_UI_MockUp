<mvc:View xmlns:html="http://www.w3.org/1999/xhtml" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core"
 xmlns:l="sap.ui.layout" controllerName="WarrantyClaim_MockUp.block.OtherPartsDetailsBlockController">
	<Table items="{WarrantyClaim>/Parts}" id="partsTable" >
		<headerToolbar>
			<Toolbar>
				<Title text="Other Parts" level="H2"/>
				<ToolbarSpacer/>
				<Button text="Add more parts" icon="sap-icon://add" press="addItem" visible="{WarrantyClaim>/CanEdit}"/>
			</Toolbar>
		</headerToolbar>
	    <items>
	        <ColumnListItem vAlign="Middle">
	        	<customData>
    				<core:CustomData key="isMCPN" value="{= ${WarrantyClaim>IsMCPN}? 'X':''}" writeToDom="true"/>
				</customData>
	            <cells>
	            	<Text text="{WarrantyClaim>PartNumber}"/>
	                <Text text="{WarrantyClaim>Description}"/>
	                <l:HorizontalLayout>
	                	<Text 
	                		text="{
	                			path: 'WarrantyClaim>Quantity',							
	                			type: 'sap.ui.model.type.Float',
								formatOptions: {
									minFractionDigits: 3,
									maxFractionDigits: 3
								}
							}" 
							visible= "{= ${WarrantyClaim>isMCPN} || !${WarrantyClaim>/CanEdit}}"
						/>
	                	<Input
	                		type="Number"
	                		value="{
								path: 'WarrantyClaim>Quantity',
								type: 'sap.ui.model.type.Float',
								formatOptions: {
									minFractionDigits: 3,
									maxFractionDigits: 3
								}
							}" 
							editable="{= ${WarrantyClaim>/CanEdit} &amp;&amp; ${WarrantyClaim>/ClaimTypeGroup} !== 'RECALL'}"
	                		visible="{= !${WarrantyClaim>isMCPN} &amp;&amp; ${WarrantyClaim>/CanEdit}}"
	            		/>
	        		</l:HorizontalLayout>
					<ComboBox
						width="100%"
						editable="{= ${WarrantyClaim>/CanEdit} &amp;&amp; ${WarrantyClaim>/ClaimTypeGroup} !== 'RECALL'}"
						items="{path:'/PartStatusSet', templateShareable:false}"
						selectedKey="{WarrantyClaim>PartRequested}"
					>
						<core:ListItem 
							key="{StatusCode}" 
							text="{Description}" 
							enabled="{= ${StatusCode} === '2' || ${StatusCode} === '3' || ${StatusCode} === '4'}"
						/>
					</ComboBox>	
	                <l:HorizontalLayout>
	                	<!-- <core:Icon src="sap-icon://broken-link" visible="{WarrantyClaim>isMCPN}" tooltip="Main Causal Part Number"/> -->
	                	<RadioButton groupName="MCPN" selected="{WarrantyClaim>IsMCPN}" editable="false"/>
	                </l:HorizontalLayout>
	                <l:HorizontalLayout>
	                	<Button icon="sap-icon://edit" press="editItem" visible="false"/>
	                	<Button 
	                		icon="sap-icon://delete" 
	                		press="deleteItem" 
	                		visible="{= ${WarrantyClaim>/CanEdit} &amp;&amp; !${WarrantyClaim>IsMCPN} &amp;&amp; ${WarrantyClaim>/ClaimTypeGroup} !== 'RECALL'}"
	                	/>
	                </l:HorizontalLayout>
	            </cells>
	        </ColumnListItem>
	    </items>		
	    <columns>
	        <Column >
	            <header>
	                <Label text="Part No."/>
	            </header>
	        </Column>
	        <Column  >
	            <header>
	                <Label text="Description"/>
	            </header>
	        </Column>
	        <Column  width="10em">
	            <header>
	                <Label text="Qty"/>
	            </header>
	        </Column>
	        <Column >
	            <header>
	                <Label text="Part Status"/>
	            </header>
	        </Column>
	        <Column  width="7em">
	            <header>
	                <Label text="MCPN"/>
	            </header>
	        </Column>
	     	<Column width="7em" hAlign="End"/>
	     </columns>
	 </Table>
</mvc:View>