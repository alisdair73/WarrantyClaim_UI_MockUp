<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:mvc="sap.ui.core.mvc">
  <Dialog title="Create Additional LON">
    <content>
		<sap.ui.layout.form:Form xmlns:sap.ui.layout.form="sap.ui.layout.form" editable="true" objectBindings="{SubletItem>/}">
			<sap.ui.layout.form:formContainers>
		    	<sap.ui.layout.form:FormContainer>
		            <sap.ui.layout.form:formElements>
		            	<sap.ui.layout.form:FormElement label="Assembly">
		                	<sap.ui.layout.form:fields>
								<ComboBox
									id="assembly"
									width="100%"
									editable="{WarrantyClaim>CanEdit}"
									loadItems="loadAdditionalLONCatalog"
									selectionChange="onAssemblySelected"
									selectedKey="{AdditionalLONHelper>/Assembly}"
									required="true"
									items="{
										path: 'AdditionalLON>/LON/ASSEMBLY_SYSTEMS'
									}"
								>
									<core:ListItem key="{AdditionalLON>CODE}" text="{AdditionalLON>DESCRIPTION}"/>
								</ComboBox>	
		                    </sap.ui.layout.form:fields>
		                </sap.ui.layout.form:FormElement>
		            	<sap.ui.layout.form:FormElement label="Sub Assembly">
		                	<sap.ui.layout.form:fields>
								<ComboBox
									id="subAssembly"
									width="100%"
									editable="{WarrantyClaim>CanEdit}"
									required="true"
									selectedKey="{AdditionalLONHelper>/SubAssembly}"
									items="{
										path: 'AdditionalLONHelper>/SubAssemblies'
									}"
								>
									<core:ListItem key="{DefectCodes>code}" text="{DefectCodes>text}"/>
								</ComboBox>	
		                    </sap.ui.layout.form:fields>
		                </sap.ui.layout.form:FormElement>
		            	<sap.ui.layout.form:FormElement label="Operation Type">
		                	<sap.ui.layout.form:fields>
								<ComboBox
									id="operationType"
									width="100%"
									editable="{WarrantyClaim>CanEdit}"
									required="true"
									loadItems="loadAdditionalLONCatalog"
									selectedKey="{AdditionalLONHelper>/OperationType}"
									items="{
										path: 'AdditionalLON>/LON/OPERATION_TYPES'
									}"
								>
									<core:ListItem key="{AdditionalLON>CODE}" text="{AdditionalLON>DESCRIPTION}"/>
								</ComboBox>	
		                    </sap.ui.layout.form:fields>
		                </sap.ui.layout.form:FormElement>
		            </sap.ui.layout.form:formElements>
		        </sap.ui.layout.form:FormContainer>
			</sap.ui.layout.form:formContainers>
		    <sap.ui.layout.form:layout>
		    	<sap.ui.layout.form:ResponsiveGridLayout/>
		    </sap.ui.layout.form:layout>
		</sap.ui.layout.form:Form>
    </content>
    <buttons>
      <Button text="Add LON" press="onAddAdditionalLON" icon="sap-icon://add-activity"/>
      <Button text="Cancel" press="onRecallProductGroupCancel" icon="sap-icon://sys-cancel"/>
    </buttons>
  </Dialog>
</core:FragmentDefinition>